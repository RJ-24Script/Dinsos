<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Struktur Organisasi — Dinas Sosial</title>
  <meta name="description" content="Struktur Organisasi Dinas Sosial Kabupaten Manokwari Selatan." />
  <link rel="icon" href="../../assets/img/Lambang_Kabupaten_Manokwari_Selatan.png" />
  <!-- Ikon -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">

  <style>
    :root{
      --ink:#0b1726; --muted:#6b7280; --line:#e5e7eb; --bg:#f9fafb;
      /* Palet biru (role dibedakan tingkat kecerahan) */
      --c1:#1d4ed8; /* Bupati/Sekda (biru gelap) */
      --c2:#2563eb; /* Kadis/Sekretaris */
      --c3:#3b82f6; /* Bidang */
      --c4:#60a5fa; /* UPT */
    }
    html,body{background:var(--bg); color:var(--ink); font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit}

    /* NAV */
    .topbar{background:#fff;border-bottom:1px solid var(--line)}
    .wrap{max-width:1100px;margin:0 auto;padding:10px 16px}
    .nav a{margin-right:14px;text-decoration:none;color:#374151}
    .nav a:hover{color:var(--c2)}
    .nav a.active{color:var(--c2);font-weight:700}

    /* HERO */
    .hero{background:linear-gradient(135deg,#1e40af 0%, #2563eb 100%); color:#fff; text-align:center; padding:40px 16px}
    .hero h1{margin:0;font-size:1.9rem}
    .hero p{margin:.4rem 0 0;opacity:.95}

    /* BREADCRUMB */
    .breadcrumb{background:#fff;border-bottom:1px solid var(--line)}
    .breadcrumb .wrap{font-size:.92rem}
    .breadcrumb a{text-decoration:none;color:#4b5563}
    .breadcrumb a:hover{text-decoration:underline}
    .sep{color:#9ca3af;margin:0 6px}

    /* CHART */
    .chart{display:flex;flex-direction:column;align-items:center;gap:18px;padding:22px 12px}
    .lvl{display:flex;gap:14px;flex-wrap:wrap;justify-content:center;position:relative}
    .connector{width:2px;height:18px;background:var(--line)}
    .lvl.has-line::before{
      content:"";position:absolute;left:8%;right:8%;top:50%;height:2px;background:var(--line)
    }

    .box{
      background:#fff;border:1px solid var(--line);border-radius:10px;min-width:230px;
      padding:12px 14px;text-align:center;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease;
      position:relative;
    }
    .box:hover{transform:translateY(-2px); box-shadow:0 10px 30px rgba(2,6,23,.07)}
    .icon{
      width:40px;height:40px;border-radius:999px;margin:0 auto 8px;
      display:grid;place-items:center;color:#fff;font-size:18px
    }
    .box h3{margin:0;font-size:1rem}
    .box p{margin:.25rem 0 0;font-size:.86rem;color:var(--muted)}

    /* aksen biru per level (border-kiri + ikon) */
    .role-kab{border-left:6px solid var(--c1)}
    .role-din{border-left:6px solid var(--c2)}
    .role-bid{border-left:6px solid var(--c3)}
    .role-upt{border-left:6px solid var(--c4)}

    .icon-kab{background:var(--c1)}
    .icon-din{background:var(--c2)}
    .icon-bid{background:var(--c3)}
    .icon-upt{background:var(--c4)}

    /* MODAL */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);align-items:center;justify-content:center;padding:16px;z-index:999}
    .modal[aria-hidden="false"]{display:flex}
    .sheet{background:#fff;border-radius:12px;max-width:520px;width:100%;padding:18px;position:relative;box-shadow:0 30px 60px rgba(0,0,0,.25)}
    .sheet h2{margin:0 0 .4rem 0;font-size:1.15rem;color:#111827}
    .sheet p{margin:.25rem 0 0;color:#374151}
    .x{position:absolute;right:12px;top:10px;font-size:20px;color:#6b7280;cursor:pointer;border:0;background:transparent}
    .x:hover{color:#111827}

    /* FOOTER */
    footer{border-top:1px solid var(--line);text-align:center;padding:18px;color:#6b7280;background:#fff;margin-top:24px}

    @media (max-width:768px){
      .lvl.has-line::before{display:none}
      .box{min-width:260px}
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <header class="topbar">
    <div class="wrap" style="display:flex;align-items:center;gap:12px;justify-content:space-between">
      <a href="../../index.html" style="display:flex;align-items:center;gap:10px;text-decoration:none">
        <img src="../../assets/img/Lambang_Kabupaten_Manokwari_Selatan.png" alt="Logo" width="36" height="36" />
        <strong>Dinas Sosial</strong>
      </a>
      <nav class="nav" aria-label="Navigasi utama">
        <a href="../../index.html">Beranda</a>
        <a href="./visi-misi.html">Visi & Misi</a>
        <a href="./struktur.html" class="active" aria-current="page">Struktur</a>
        <a href="./tupoksi.html">Tupoksi</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <h1>Struktur Organisasi</h1>
    <p>Dinas Sosial Kabupaten Manokwari Selatan</p>
  </section>

  <!-- BREADCRUMB -->
  <div class="breadcrumb">
    <div class="wrap">
      <a href="../../index.html">Beranda</a><span class="sep">›</span>
      <a href="../profil.html">Profil</a><span class="sep">›</span>
      <strong>Struktur Organisasi</strong>
    </div>
  </div>

  <!-- CHART -->
  <main class="wrap" style="padding:18px 16px 28px">
    <div class="chart" role="list">
      <!-- Level 1 -->
      <div class="lvl" role="group" aria-label="Pimpinan Daerah">
        <div class="box role-kab" tabindex="0" onclick="openModal('bupati')" onkeydown="keyOpen(event,'bupati')" role="button" aria-haspopup="dialog">
          <div class="icon icon-kab"><i class="fa-solid fa-crown" aria-hidden="true"></i></div>
          <h3>Bupati</h3>
          <p>Kabupaten Manokwari Selatan</p>
        </div>
      </div>

      <div class="connector" aria-hidden="true"></div>

      <!-- Level 2 -->
      <div class="lvl" role="group" aria-label="Sekretaris Daerah">
        <div class="box role-kab" tabindex="0" onclick="openModal('sekda')" onkeydown="keyOpen(event,'sekda')" role="button" aria-haspopup="dialog">
          <div class="icon icon-kab"><i class="fa-solid fa-sitemap" aria-hidden="true"></i></div>
          <h3>Sekretaris Daerah</h3>
          <p>Perangkat Daerah</p>
        </div>
      </div>

      <div class="connector" aria-hidden="true"></div>

      <!-- Level 3 -->
      <div class="lvl" role="group" aria-label="Kepala Dinas">
        <div class="box role-din" tabindex="0" onclick="openModal('kadis')" onkeydown="keyOpen(event,'kadis')" role="button" aria-haspopup="dialog">
          <div class="icon icon-din"><i class="fa-solid fa-user-tie" aria-hidden="true"></i></div>
          <h3>Kepala Dinas</h3>
          <p>Dinas Sosial</p>
        </div>
      </div>

      <div class="connector" aria-hidden="true"></div>

      <!-- Level 4 -->
      <div class="lvl" role="group" aria-label="Sekretaris">
        <div class="box role-din" tabindex="0" onclick="openModal('sekretaris')" onkeydown="keyOpen(event,'sekretaris')" role="button" aria-haspopup="dialog">
          <div class="icon icon-din"><i class="fa-solid fa-clipboard-list" aria-hidden="true"></i></div>
          <h3>Sekretaris</h3>
          <p>Administrasi & Keuangan</p>
        </div>
      </div>

      <div class="connector" aria-hidden="true"></div>

      <!-- Level 5 -->
      <div class="lvl has-line" role="group" aria-label="Bidang">
        <div class="box role-bid" tabindex="0" onclick="openModal('bidang1')" onkeydown="keyOpen(event,'bidang1')" role="button" aria-haspopup="dialog">
          <div class="icon icon-bid"><i class="fa-solid fa-shield-heart" aria-hidden="true"></i></div>
          <h3>Bidang Perlindungan</h3>
          <p>Sosial & Jaminan</p>
        </div>
        <div class="box role-bid" tabindex="0" onclick="openModal('bidang2')" onkeydown="keyOpen(event,'bidang2')" role="button" aria-haspopup="dialog">
          <div class="icon icon-bid"><i class="fa-solid fa-hands-holding-child" aria-hidden="true"></i></div>
          <h3>Bidang Rehabilitasi</h3>
          <p>Sosial</p>
        </div>
        <div class="box role-bid" tabindex="0" onclick="openModal('bidang3')" onkeydown="keyOpen(event,'bidang3')" role="button" aria-haspopup="dialog">
          <div class="icon icon-bid"><i class="fa-solid fa-people-group" aria-hidden="true"></i></div>
          <h3>Bidang Pemberdayaan</h3>
          <p>Sosial</p>
        </div>
        <div class="box role-bid" tabindex="0" onclick="openModal('bidang4')" onkeydown="keyOpen(event,'bidang4')" role="button" aria-haspopup="dialog">
          <div class="icon icon-bid"><i class="fa-solid fa-database" aria-hidden="true"></i></div>
          <h3>Bidang Data & Informasi</h3>
          <p>Kesejahteraan Sosial</p>
        </div>
      </div>

      <div class="connector" aria-hidden="true"></div>

      <!-- Level 6 -->
      <div class="lvl has-line" role="group" aria-label="Unit Pelaksana Teknis">
        <div class="box role-upt" tabindex="0" onclick="openModal('upt1')" onkeydown="keyOpen(event,'upt1')" role="button" aria-haspopup="dialog">
          <div class="icon icon-upt"><i class="fa-solid fa-hospital-user" aria-hidden="true"></i></div>
          <h3>UPT Panti</h3>
          <p>Werdha & Disabilitas</p>
        </div>
        <div class="box role-upt" tabindex="0" onclick="openModal('upt2')" onkeydown="keyOpen(event,'upt2')" role="button" aria-haspopup="dialog">
          <div class="icon icon-upt"><i class="fa-solid fa-children" aria-hidden="true"></i></div>
          <h3>UPT Panti</h3>
          <p>Sosial Bina Remaja</p>
        </div>
        <div class="box role-upt" tabindex="0" onclick="openModal('upt3')" onkeydown="keyOpen(event,'upt3')" role="button" aria-haspopup="dialog">
          <div class="icon icon-upt"><i class="fa-solid fa-school" aria-hidden="true"></i></div>
          <h3>UPT Panti</h3>
          <p>Anak Putus Sekolah</p>
        </div>
      </div>
    </div>

    <!-- Gambar alternatif (opsional) -->
    <section style="margin-top:20px;text-align:center">
      <h3 style="margin-bottom:10px">Struktur Organisasi Grafis</h3>
      <div style="background:#fff;border:1px solid var(--line);border-radius:10px;padding:12px">
        <img src="../../assets/img/struktur-organisasi.png"
             alt="Struktur Organisasi Dinas Sosial"
             style="max-width:100%;height:auto;border-radius:8px"
             onerror="this.src='https://placehold.co/1200x800/2563eb/ffffff?text=Struktur+Organisasi+Dinas+Sosial'">
        <p style="font-size:.85rem;color:var(--muted);margin-top:8px">
          Klik kotak di atas untuk melihat detail jabatan.
        </p>
      </div>
      <p style="margin-top:14px">
        <a href="../profil.html" style="display:inline-flex;gap:8px;align-items:center;background:#2563eb;color:#fff;padding:8px 12px;border-radius:8px;text-decoration:none">
          <i class="fa-solid fa-arrow-left-long" aria-hidden="true"></i> Kembali ke Profil
        </a>
      </p>
    </section>
  </main>

  <!-- MODAL -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="sheet" tabindex="-1">
      <button class="x" type="button" aria-label="Tutup" onclick="closeModal()">&times;</button>
      <h2 id="modal-title"></h2>
      <p id="modal-desc"></p>
    </div>
  </div>

  <footer>
    &copy; 2025 Dinas Sosial Kabupaten Manokwari Selatan. Semua hak dilindungi.
  </footer>

  <script>
    // Data modal
    const DATA={
      bupati:{t:'Bupati Kabupaten Manokwari Selatan',d:'Pemimpin tertinggi di Kabupaten Manokwari Selatan.'},
      sekda:{t:'Sekretaris Daerah',d:'Koordinasi kebijakan dan program perangkat daerah.'},
      kadis:{t:'Kepala Dinas Sosial',d:'Memimpin penyelenggaraan urusan sosial di kabupaten.'},
      sekretaris:{t:'Sekretaris Dinas',d:'Mengelola administrasi, kepegawaian, dan keuangan.'},
      bidang1:{t:'Bidang Perlindungan Sosial & Jaminan',d:'Program perlindungan dan jaminan bagi masyarakat rentan.'},
      bidang2:{t:'Bidang Rehabilitasi Sosial',d:'Rehabilitasi untuk disabilitas, lansia, dan korban bencana.'},
      bidang3:{t:'Bidang Pemberdayaan Sosial',d:'Pemberdayaan masyarakat dan penguatan kelembagaan sosial.'},
      bidang4:{t:'Bidang Data & Informasi Kesejahteraan Sosial',d:'Pengelolaan DTKS dan sistem informasi kesos.'},
      upt1:{t:'UPT Panti Werdha & Disabilitas',d:'Pelayanan lansia dan penyandang disabilitas.'},
      upt2:{t:'UPT Panti Sosial Bina Remaja',d:'Rehabilitasi dan pemberdayaan remaja.'},
      upt3:{t:'UPT Panti Anak Putus Sekolah',d:'Penanganan anak putus sekolah dan anak jalanan.'}
    };

    const modal=document.getElementById('modal');
    const sheet=modal.querySelector('.sheet');
    const ttl=document.getElementById('modal-title');
    const desc=document.getElementById('modal-desc');
    let lastFocus=null;

    function openModal(key){
      if(!DATA[key]) return;
      lastFocus=document.activeElement;
      ttl.textContent=DATA[key].t;
      desc.textContent=DATA[key].d;
      modal.setAttribute('aria-hidden','false');
      modal.style.display='flex';
      setTimeout(()=>sheet.focus(),0);
      document.addEventListener('keydown', escClose);
    }
    function closeModal(){
      modal.setAttribute('aria-hidden','true');
      modal.style.display='none';
      document.removeEventListener('keydown', escClose);
      if(lastFocus) lastFocus.focus();
    }
    function escClose(e){ if(e.key==='Escape') closeModal(); }
    function keyOpen(e,key){ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); openModal(key); } }
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
  </script>
</body>
</html>
